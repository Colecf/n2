# Snapshot tests

This directory is for real-world outputs from tools that generate Ninja files.

Because these outputs are large, they aren't checked in to the Ninja tree.
Instead for now it's a random zip file on Google drive at

https://drive.google.com/file/d/1dlNAaf0XRXjV6UPkNV88JFuOBGJLdyGB/view?usp=sharing

It expects to be unzipped directly into this directory:

```
$ unzip snapshot.zip
```

## Test data in the zip

### llvm-cmake

`llvm-cmake/` contains LLVM build files generated by CMake.

https://llvm.org/docs/GettingStarted.html (note they have a CMake-specific page
that has instructions that don't work(?!))

```
$ cmake -G Ninja -B build -S llvm -DCMAKE_BUILD_TYPE=Release
```

### llvm-gn

`llvm-gn/` contains LLVM build files generated by the GN build system.

Read llvm/utils/gn/README.rst in LLVM checkout for more, but in brief.

```
$ llvm/utils/gn/get.py
$ llvm/utils/gn/gn.py gen out/gn
```

## Reminder to self how I made it

```
$ zip -r snapshot.zip .gitignore llvm-*
```
